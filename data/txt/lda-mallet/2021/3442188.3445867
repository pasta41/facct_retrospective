Allocating Opportunities in a Dynamic Model of Intergenerational Mobility Opportunities such as higher education can promote intergenerational mobility leading individuals to achieve levels of socioeconomic status above that of their parents We develop a dynamic model for allocating such opportunities in a society that exhibits bottlenecks in mobility the problem of optimal allocation reflects a trade-off between the benefits conferred by the opportunities in the current generation and the potential to elevate the socioeconomic status of recipients shaping the composition of future generations in ways that can benefit further from the opportunities We show how optimal allocations in our model arise as solutions to continuous optimization problems over multiple generations and we nd in general that these optimal solutions can favor recipients of low socioeconomic status over slightly higher-performing individuals of high socioeconomic status a form of socioeconomic armative action that the society in our model discovers in the pursuit of purely payoff-maximizing goals We characterize how the structure of the model can lead to either temporary or persistent armative action and we consider extensions of the model with more complex processes modulating the movement between different levels of socioeconomic status CONCEPTS Applied computing Economics Computing methodologies Planning and scheduling KEYWORDS Intergenerational mobility socioeconomic armative action optimal allocation policy continuous Markov Decision Processes MDP INTRODUCTION Intergenerational mobility the extent to which an individuals socioeconomic status differs from the status of their prior generations of family members has emerged as a central notion in our understanding of inequality A large amount of empirical work has gone into estimating the extent of mobility for different subsets of society while many of the effects are complex and challenging to measure two broad and fairly robust principles emerge from this work First socioeconomic status is persistent across generations an individuals socioeconomic status is strongly dependent on parental status As Lee and Solon write in the opening to their survey of this topic Over the past two decades a large body of research has documented that the intergenerational transmission of economic status in the United States is much stronger than earlier sociological and economic analyses had suggested Second certain types of opportunities can serve as strong catalysts for socioeconomic mobility a canonical example is higher education which has the potential to raise an individuals socioeconomic status and by the previous principle that of their current or future children as well As Chetty et al write The fact that the college attendance is a good proxy for income mobility is intuitive given the strong association between higher education and subsequent earnings An important question from a social planning perspective is thus the choice of policy for allocating opportunities to people of different levels of socioeconomic status Again we can think of access to higher education as a running example in this discussion Many goals can motivate the choice of policy including the reduction of socioeconomic inequality and the prioritization of opportunities to those most in need Such goals are often viewed as operating in tension with the aim of maximizing the achievable payoff from the available opportunities which would seem to suggest targeting the opportunities based only on the anticipated performance of the recipient not their socioeconomic status In this view society is implicitly being asked to choose between these goals this consideration forms a central ingredient in the informal discourse and debate around the allocation of opportunity But through all of this a challenging question remains to what extent is the tension between these goals genuine and to what extent can they be viewed as at least partially in alignment A large body of work in economics compares various allocation policies in terms of the above seemingly-competing criteria typically in simplified settings in which only two generations are considered The literature includes seminal work by Nobel Laureate Garry Becker with Nigel Tomes Becker and Tomes and by Glenn Loury Loury In multigenerational settings however deriving the optimal policy becomes exceedingly challenging and it has been highlighted as a class of open questions in this literature For example in his work on models of college admissions and intergenerational mobility Durlauf notes A college admissions rule has intergenerational effects because it not only influences the human capital of the next generation of adults but also affects the initial human capital of the generation after next efficiency in student allocation in this case is far more complicated than before I am unaware of any simple way of describing efficiency conditions for college assignment rules analogous to the above setting In this work we address this challenge and the associated open questions concerning the behavior of multigenerational models A key ingredient in our progress on these questions is the development of methods for working with a class of Markov Decision Processes that operate over continuous states and continuous actions Our analysis of multigenerational models enables us to investigate the apparent tension between efficiency and fairness considerations in allocating opportunities Allocating Opportunities in a payoff-maximizing Society We work with a simple mathematical model representing a purely payoff-maximizing society operating over multiple generations As we discuss briefly in Section and at more length in Appendix A our model is grounded in the types of models proposed in economic theory work on these problems The society must decide how to allocate opportunities in each generation across a population heterogeneous in its socioeconomic status The payoff to the society is the total performance of everyone who receives the opportunities summed with discounting over all generations Although the set-up of the model is highly streamlined the analysis of the model becomes quite subtle since society must solve a continuous-valued dynamic programming problem over multiple generations What we nd from the model is that the optimal solution will in general tend to oer opportunities to individuals of lower socioeconomic status over comparable individuals of higher socioeconomic status even when these competing individuals are predicted to have a slightly better performance from receiving the opportunity This is not arising because the optimal solution has any a priori interest in reducing socioeconomic inequality although such goals are important in their own right Forde-Mazrui rather it is strictly trying to maximize payoff over multiple generations But given two individuals of equal predicted performance the one with lower socioeconomic status confers an added benefit to the payoff function their success would grow the size of the socioeconomically advantaged class resulting in higher payoffs in future generations Because the difference in payoff contributions between these two individuals is strictly positive the same decision would be optimal even if the individual of lower socioeconomic status had a slightly lower predicted performance from receiving the opportunity The optimal solution should still favor the candidate with lower status in this case In other words the society in this model discovers a form of socioeconomic armative action in allocating opportunities based purely on payoff-maximizing motives The model thus offers a view of a system in which reducing inequality is compatible with direct payoff maximization In this sense our results belong to a genre of analyses popularized by Page Page and others asserting that policies and interventions that we think of as motivated by equity concerns can also be motivated by purely performance-maximizing considerations even if society only cares about performance not equity it should still at least in the underlying models undertake these policies In addition to providing a purely utilitarian motivation for socioeconomic armative action our model provides novel insights regarding the shape and extent of effective armative action policies by specifying the way in which criteria for receiving the opportunity should be adjusted based on socioeconomic status to maximize societys performance across multiple generations We now give a rough overview of the model and results a complete description of the model is provided in the following section A Model for Allocating Opportunities We consider a population that is partitioned into two groups of different socioeconomic status D disadvantaged consisting of a fraction of the population and A advantaged consisting of a fraction of the population Each agent i from either group has an ability ai drawn uniformly at random from the interval Society has the ability to oer an opportunity to an fraction of the population Note that the parameter species the inherent limitation on the amount of opportunities available Since opportunities are limited the society has to wrestle with the question of how to allocate them An individual i in group D who is offered the opportunity has a probability ai of succeeding at it for a parameter An individual i in group A who is offered the opportunity has a probability ai of succeeding at it for the same and an additional parameter reflecting the advantage We will refer to the above quantities as the success probabilities of the agents Success probabilities reflects various levels of performance when agents are offered the opportunity Anyone in group D who is offered the opportunity and succeeds at it moves up to group A Each individual is then replaced by one offspring of the same socioeconomic status and the process continues to the next generation In the general form of the model there is also some probability that an individuals offspring does not perfectly inherit their socioeconomic status The payoff to society is the number of individuals who succeed at the opportunity summed over all generations with the generation t steps into future multiplied by t for a discount factor Summary of Results In any given generation societys policy will consist of a threshold for group D and a possibly different threshold for group A the opportunity is given to every individual whose success probability is above the threshold for their group The optimal policy is given by a dynamic program over the continuous set of all possible choices for the population composition as state variables We solve the most basic version of the model analytically We computationally solve more complex versions of the model by discretizing the state space then applying standard dynamic programming solutions for finite decision processes If the problem of allocating the opportunity only spanned a single generation then the payoff-maximizing policy would use the same threshold for both groups But given the discounting sum over multiple generations we nd that societys optimal policy can in general use a lower threshold for group D than for group a The difference in thresholds is a form of socioeconomic armative action and it arises due to the intuition discussed above boosting the number of individuals from group D who receive the opportunity will increase the number of available candidates from group A in future generations each of whom provides a discounted payoff in future generations via their enhanced performance Finding the correct trade-off in allocating opportunity thus involves a delicate balance between immediate and future utility Figure Visualizing the triples for which the optimal policy uses persistent armative actions We set for these plots Points that lie above the surfaces in panels a and c and below the surface in panel b correspond to parameter values yielding persistent armative action a When any suffices for persistent armative action and eventually moving the entire population to group A When there exists some and hence a finite level of patience that suffices for persistent armative action b When is sufficiently large the optimal policy does not use persistent armative action this is because for a large the extent of armative action required to pick up the best performing members of D is large which in turn significantly reduces the immediate payoff For any given value of there exists a sufficiently small that guarantees persistent armative action c When is small relative to the optimal policy does not use persistent armative action this is because the cost of picking the best performing members of D is very high and a small A group suffices for filling the available opportunities Note that for some values of no matter how large is the optimal policy never employs persistent armative action Whether socioeconomic armative action is employed by the optimal solution and the extent to which it is employed depends on the fraction of individuals from group D in the most basic model the amount of armative action decreases monotonically as is reduced The extent of armative action is also determined by the amount of opportunity available the dependence of success on ability and socioeconomic status and and societys patience in trading o immediate payoff in return for payoff from future generations We characterize the optimal solution in this respect as a function of these parameters ending that for some regions of the parameter space the society employs temporary affirmative action reducing the size of group D to a given level before equalizing thresholds in subsequent generations in other parts of the parameter space the society employs persistent armative action in which the threshold for group D is strictly lower in every generation and the size of group D converges to over time Figure provides some ways of describing the regions of parameter space in which the optimal solution uses persistent armative action As the partitions of the space there make apparent the interactions among the key parameters is fairly subtle First persistent armative action is promoted by large values of and small values of since these make it easier to include high-performing members of group D without a large difference in thresholds and it is promoted by larger values of indicating greater concern for the payoffs in future generations One might have suspected that persistent armative action would only be realized in the optimal solution in the limit as societys patience essentially goes to infinity but in fact a sufficiently large finite amount of patience is sufficient for the optimal policy to use persistent armative action In our model we include a probabilistic background process by which individuals can also move between groups A and D this reflects the idea that there are many mechanisms operating simultaneously for socioeconomic mobility and we are studying only one of these mechanisms via the opportunity under consideration The most basic version posits a single probability p that each individual independently loses their group membership and re-samples it from the current distribution of group sizes We also consider a version of the model in which this probability of loss of group membership is different for groups A and D in this case we are only able to solve the model computationally and these computational results reveal interesting non-monotonicities in the amount of armative action employed as a function of the relative size of group D Utilitarianism Prioritarianism and the Desert Principle Our simple mathematical model allows us to represent and distinguish among several distinct worldviews toward allocation policies see eg Arneson for further discussion of these views a utilitarian view which generally favors slightly lower-ability members of A to comparable but slightly higher ability members of D in pursuit of maximizing social utility and productivity recall that membership in A confers a boost in success probability a prioritarian view which evaluates a policy according to its impact on the well-being of the worse-o members of society Our model can capture the priority view through large discount factors recall that as the societys patience increases it effectively increases the priority assigned to the disadvantaged group members or by adjusting the welfare function a desert-principle view which advocates for allocating opportunities based on some notion of deservingness Deservingness in this view is often defined in terms of the contributions people make to the social utility Hence success probability in our model is arguably the closest match to individual desert With that definition for desert desert-based principles would allocate opportunities myopically in each generation As our analysis illustrates such policies often fail to maximize the social utility in the long-run Limitations and Interpretations Our model is designed to incorporate the basic points we just mentioned in as simplified a fashion as possible as such it is important to note some of its key limitations First it is intended to model the effect of a single opportunity and it treats other forms of mobility probabilistically in the background It also assumes that the fundamental parameters are constant over all generations as well as over individuals within one generation It treats an individuals group membership A and D and ability as a complete description of their performance rather than including any dependence on the group membership of the individuals parent That is an individual in group a performs the same in the model regardless of whether their parent belonged to group A or D All of these would be interesting restrictions to relax in an extension of the model Second much of the past theoretical work on intergenerational mobility focuses on an issue that we do not consider here the strategic considerations faced by parents as they decide how much to consume in the present generation and how much to pass on to their children Our interest instead has been in the optimization problem faced by a social planner in allocating opportunities treating the behavior of the agents as fixed and simple Here too it would be interesting to explore models that address these issues in combination Finally because our focus is on intergenerational mobility in a socioeconomic sense we do not model discrimination based on race ethnicity or gender and the role of race- or gender-based armative action in combatting these effects The model is instead concerned with socio-economic or class-based Kahlenberg Malamud armative action That said the ingredients here could be combined with models of statistical or taste-based discrimination on these attributes to better understand their interaction as outlined in Section The simplicity of our model however does allow us to make a correspondingly fundamental point that even a purely payoff-maximizing society can discover armative action policies from rst principles as it seeks to optimize the allocation of opportunities over multiple generations Moreover the optimal allocation policy is deeply connected to dynamic programming over the generations the society is essentially attempting to steer the balance of group A and group D over time making sure not to turn things too abruptly giving up present benefit or too gradually giving up future benefit This idea that society is searching for a way to turn optimally toward a better outcome is not specific to our model it is an image that has arisen in qualitative discourse over several centuries It can be seen in a quote popularized by Martin Luther King that the arc of the moral universe is long but it bends toward justice Cohen Interestingly the original form of this quote by the American minister Theodore Parker in has an even more abstractly mathematical flavor I do not pretend to understand the moral universe the arc is a long one my eye reaches but little ways I cannot calculate the curve and complete the figure by the experience of sight I can divine it by conscience And from what I see I am sure it bends towards justice Parker It is a curiously apt image for the way in which our optimal solutions gradually turn through the state space to reshape the distribution of socioeconomic groups and it can be seen as added motivation for the issues at the heart of the model Related Work Here we briefly mention several lines of scholarship that are closely related to our work See Appendix A for a more in-depth discussion Long-term Implications of Fair Machine Learning ML Several recent articles study the long-term impact of ML-based decision-making and fairness interventions on society including the enforcement of statistical parity in hiring Hu and Chen and responses by individuals and populations to an ML-based decision rule Kannan et al Liu et al Mouzannar et al Liu et al for example study the conditions under which the choices of a myopic profit-maximizing institution eg a bank lending money to individuals work in the interest of the disadvantaged group Dong et al Hu et al Milli et al address strategic classification where the goal is to design classifiers robust to strategic manipulation This body of research focuses on strategic responses by agents being evaluated in contrast we assume idealized prediction so as to focus on the perspective of a social planner who seeks optimal allocation of opportunities over time Intergenerational Income Mobility A substantial literature in economics studies how higher inequality results in lower income mobility across generations see eg Becker and Tomes Corak Maoz and Moav The precise measurements of inequality and mobility significantly influence the strength of this effect see eg Piketty Solon Theoretical models of income mobility have studied utility-maximizing parents deciding how much of their capital to consume and how much of it to invest in their offspring Becker and Tomes Loury Solon We deliberately set aside parental strategic considerations and focus instead on deriving the optimal policy that maximizes the discounted payoff over generations Armative Action Policies A rich body of work in economics investigates statistical discrimination Arrow and the role of armative action in redressing it Fang and Moro Outcome-based policies including armative action targets have long been proposed and implemented as temporary remedies to eliminate group-level inequalities Race-based armative action and socioeconomic armative action can be viewed as distinct categories of interventions Carnevale and Rose Kahlenberg with the former addressing long-term effects of racial bias and the latter facilitating access for economically disadvantaged individuals Reardon et al While the relationship between them is complex and contested in the literature Gaertner and Hart Kane Reardon et al they can co-exist without necessarily competing Armative Action in College Admissions and Comparison with Durlauf Durlauf provides a model to compare the equality and efficiency of armative action policies with those of meritocratic policies in the context of admission rules to public universities In his concluding remarks Durlauf poses the key question our work sets out to answer how do multigenerational considerations impact the optimal allocation policy As we address this open question that he poses we follow his model in many respects although we depart from it in a few key areas Similar to our work Durlauf provides a condition under which efficiency and equality considerations are aligned but he focuses on settings where a diverse body of students on college campuses improves the human capital development for all of them Durlauf assumes the policymaker aims to maximize the level of human capital among the next generation of adult citizens He restricts attention to two generations only and instead of solving for the optimal policy he compares the meritocratic policy with armative action in terms of the average human capital of the next generation In contrast we model the dynamics of human-capital development across multiple generations and derive the optimal allocation policy Moreover groups in our model corresponds to socio-economic tiers whereas Durlauf defines them in terms of race In both models generations are represented as follows in each time step a new member is born into each family/dynasty and he/she replaces the current member of the family in the next generation The initial human capital in Durlaufs model corresponds to our notion of success probability Adult human capital in his model is determined by college attendance and it roughly maps to our notion of success ie whether the individual succeeds if given the opportunity In both models an admission rule maps a students human capital and group membership into a binary outcome indicating whether the student is given the opportunity In both models the admission rule may vary across time and generations the level of state expenditures on education is assumed constant across generations is fixed in our model the only output of universities is human capital our objective function is made up of the percentage of the population who succeed in each generation and finally the initial human capital is accurately measured for every student we assume ability and success probability are perfectly observable A DYNAMIC MODEL Agents Circumstances Abilities Generations We consider a model of a society that consists of a continuum of agents in two different sets of socioeconomic circumstances a disadvantaged circumstance D and an advantaged circumstance A These circumstances are probabilistically inherited from one generation to the next but we can try to increase the number of agents in the advantaged circumstance in future generations by offering opportunities to disadvantaged agents in the current generation This comes with a trade-off however since a competing option is to oer these opportunities to advantaged agents in the current generation Our goal is to model this trade-off We say that an agent i has circumstance if they are disadvantaged i D and circumstance if they are advantaged i A Each agent i also has an ability ai which is a real number in Time advances in discrete periods beginning with period t We think of these as generations Consider an agent i who has circumstance c at the beginning of time t Depending on whether i receives the opportunity his/her circumstance may change to At the end of time step t i produces a new agent i in generation t This new agent i has an ability ai drawn uniformly at For a more detailed comparison see Section A random from With some fixed probability specified below i inherits the ex-post circumstance of i so c post i otherwise it takes on a circumstance randomly selected from the background distribution of circumstances within the population in generation t More specifically in a given period t let t denote the fraction of agents who have circumstance for If then with a fixed probability pD i inherits circumstance D and with fixed probability pD it receives a circumstance randomly selected from the background distribution Similarly If then with a fixed probability pA i inherits circumstance A and with probability pA it receives a circumstance randomly selected from the background distribution The movement probabilities pA and pD capture all processes other than the opportunity we seek to allocate optimally through which individuals can change their circumstance from their parental inheritance For example in the college admissions example while our model focuses on how admission decisions can reshape circumstances over generations there are many other forces and processes that impact the evolution of circumstances within society eg number of jobs in the economy training opportunities outside college or pure luck The movement probabilities summarize and capture all these alternative upward or downward movement possibilities Opportunities and payoffs We consider the problem of performing an intervention in this society which consists of offering an opportunity to a subset of the population We only have the resources to oer the opportunity to an fraction of the population An agent who is offered the opportunity has some probability of succeeding at it as a function of their ability and circumstances that we specify below Succeeding at the opportunity confers two benefits on society i it produces an immediate payoff/reward to the society in the form of productivity ii if the agent is disadvantaged it moves them and subsequently their future generations into the advantaged group The central problem to be solved in the model as we will see below is how to balance the immediate gains from i against the long-term gains from ii over multiple generations In particular if an agent of ability ai and circumstance is offered the opportunity their probability of succeeding at it is ai where and Note that since this simply means that gets added to the success probability of all agents whose circumstance is equal to Our payoff or reward r t in period t is simply the fraction of the population that both receives the opportunity and succeeds at it Our total payoff is a discounted sum of payoffs over all periods with discount factor that is the total payoff r is equal to t t r t As noted earlier agents with circumstance who receive the opportunity and succeed at it will produce offspring who are more likely to have circumstance this matters for the payoff because the total payoff r t t r t depends on the fraction of agents with each type of circumstance in all time periods Thresholds and Interventions The way we allocate the opportunity at time t is to set a threshold t for agents with circumstance for and to oer the opportunity to all agents i with circumstance whose success probability ai is at least t That is ai We will sometimes write the threshold and the population fraction with each circumstance without the explicit dependence t when we are considering a single fixed time period Agents of circumstance make up a fraction of the population and a fraction of them receive the opportunity for a total fraction of the population equal to Similarly agents of circumstance make up a fraction of the population and a fraction of them receive the opportunity for a total fraction of the population equal to The sum of these two fractions must add up to the portion of the population to whom we can oer the opportunity and and This also shows how our choice of thresholds is a one-dimensional problem in the single variable or equivalent in the single variable since after setting one of the two thresholds the other is determined by this equation More precisely we have that for Note that if can take on any value in the threshold will not affect how opportunities are allocated The same holds for and any Dynamics in a Single Period Recall that our payoff r t in period t is simply the fraction of the population that both receives the opportunity and succeeds at it We can decompose this as follows Agents of circumstance make up a fraction of the population and a fraction of them receive the opportunity for a total fraction of the population equal to Not all of these agents succeed at the opportunity the average success probability in this group is so the expected quantity that succeeds is Agents of circumstance make up a fraction of the population and a fraction of them receive the opportunity for a total fraction of the population equal to Again not all of these agents succeed at the opportunity the average success probability in this group is so the expected quantity that succeeds is The total payoff in period t is the sum of these two terms r t t t t t Dynamics over Multiple Periods If we were just optimizing the payoff in this single time period then wed have a single-variable optimization problem in the variable or equivalently in with the objective function given by But since there is also the set of discounted payoffs in future time periods we also need to look at the effect of our decisions on the quantities and in future periods If pA pD t grows relative to i t depending on the fraction of the population that transitions from circumstance to circumstance by succeeding at the opportunity Thus we have t t t t More generally when pA or pD are non-zero lets define post t t t t For simplicity we drop t and simply use post in the remainder of this section We have t post pD post pD post post pA post It is easy to see that P If pA pD then t t t t P Suppose pA pD p Then we can re-write as follows t post p post p post post p post post p post p post post post p post p post t t t where in the last line we replace post with its definition The above proposition shows that with respect to dynamics and optimal policy settings in which pA pD are essentially equivalent to settings in which pA pD In summary the full problem is to choose thresholds for each time period t so as to maximize the infinite sum r t t r t Each term r t depends not just on the chosen thresholds but also on the fractions of agents with each type of circumstance which evolve according to the recurrence in Equation Note that the intuitive trade-off between and shows up in the formulation of and lowering and lowering have different effects both in period t and in future time periods THEORETICAL ANALYSIS FOR pD pA In this section we focus on settings in which pD pA and characterize the optimal policy to maximize the discounted payoff over generations We only provide the analysis for settings of pD pA but the extension to pD pA is straightforward We cast the problem as deriving the infinite-time-horizon optimal policy in a continuous state- and action-space Markov decision process We characterize the optimal threshold and value function for every state Importantly we show that there exists a tipping point that splits the state space into two distinct regions states at which the optimal threshold uses strict armative action and Figure The admissible thresholds for every state of the decision process D The x-axis species the state and the yaxis highlights in light red the admissible thresholds at every state states at which the optimal policy consists of imposing equally high thresholds on both A and D groups The Decision Process Given and we define a decision process D SR for short with a continuous state space action space state transition S and reward function R Each state corresponds to a particular fraction of disadvantaged individuals within the population For instance the states or represents a society in which no one or everyone belongs to D The set of thresholds admissible in each state is denoted by consist of all thresholds that can satisfy the capacity constraint In other words for any if we impose the threshold on group D we can nd a threshold for group A such that exactly fraction of the overall population receives the opportunity This capacity constraint translates into two conditions on A threshold should not give the opportunity to more than fraction of the population Formally which is equivalent to A threshold should not waste opportunities that is it should give the opportunity to at least fraction of the overall population Formally Replacing with and rearranging terms the above is equivalent to Figure illustrates the actions satisfying conditions and for every state The state transition function S species the state transitioned to for every state admissible threshold pair Formally S The reward function R is defined as follows R denotes the immediate reward/payoff of imposing threshold at state Formally R Replacing with and with the right hand side of we obtain the following equivalent expression for R R for otherwise Characterization of the Optimal Policy Next we illustrate and characterize the optimal policy for the decision process D defined above For further information and references on continuous-state decision processes see Appendix A A deterministic policy for a decision process D is a mapping such that prescribes the threshold at state The value V of a state under policy is the discounted reward of executing policy on D starting with initial state A policy is optimal if its value function V satisfies Bellman optimality-defined recursively as follows V max R V S We establish in Appendix C that for our decision process D the value function satisfying the above functional equation is unique continuous and differentiable We prove these facts utilizing tools from recursive analysis and dynamic programming Cotter and Park Stokey For simplicity from this point on we refer to this unique optimal value function as V and drop the subscript Let the correspondence denote all optimal policies for D More precisely for any the set contains all optimal threshold values at Figure a illustrates for a sample setting of the parameters See Figure in the Appendix for more instances Figure in the Appendix illustrates the value function V Note that the value function is consistently decreasing and concave We say that the optimal policy uses armative action at a state if at it imposes a lower threshold on group D compared to A D S A A The optimal policy uses strict armative action at state if for all and all If the inequality above is not strict ie we say the optimal policy uses weak armative action Figure b shows the extent of armative action for a sample setting of the parameters See Figure in the Appendix for more instances Our main result Theorem characterizes the states at which the optimal policy employs armative action In particular it establishes the existence of a tipping point that designate the region of armative action At any state the optimal policy assigns similar high threshold to both the advantaged and disadvantaged groups In contract at any state the optimal a The optimal at every state The optimal threshold decreases with The dashed lines indicate the tipping points below which is the only optimal threshold and above it is not optimal b The difference between and at every state The dashed lines specify the tipping points Strict armative action is employed beyond only and the extent of armative action is increasing in c The state to which the optimal policy converges given the initial state The dashed lines specify the tipping point Note that the optimal policy never shrinks the size of group D to a value less than Figure Illustration of the a optimal policy b extent of armative action and c absorbing state policy imposes a strictly lower threshold on group D compared to A T Given and the decision process D let max min s For any state there exists and such that For any state for all and all such that We prove Theorem by establishing a series of Lemmas Lemma determines the largest state below which the optimal policy consists of applying the high threshold of to group D Clearly below such point the optimal policy does not use armative action Next we investigate states larger than For every state Lemma identifies the set of thresholds that exhibit armative action Lemma establishes that the optimal policy uses weak armative action beyond That is it shows that for any state it is never optimal to impose a strictly higher threshold on D compared to A Proposition shows that beyond the optimal policy in fact uses strict armative action That is at every state the optimal policy imposes a strictly lower threshold on D compared to A Lemma determines the state up to which is an optimal threshold Note that if is an optimal threshold at a state the optimal policy does not use armative action at To see this note that when is optimal any action is also optimal they all pick a -fraction of group D and are therefore effectively equivalent All omitted proof can be found in Appendix C L T T P For any state The following Lemma characterizes the region of armative action in the state-action space L R A A For a state the threshold uses armative action if and only if P Let be the threshold that if applied to both D and A at allocates opportunities exactly We have that or equivalently Note that if and only if otherwise the capacity constraints would not be maintained Therefore for any which implies armative action The following Lemma shows that beyond the optimal threshold for the disadvantaged is never higher than that for the advantaged L A A Consider a state For all and all P Suppose not and there exists and such that If we lower down to and increase up to we maintain the capacity constraints and at the same time achieve the following a We improve the immediate reward of the current time step because we replace advantaged agents with low success probabilities in the range of with disadvantaged agents with higher success probabilities in b We move to a state with a relatively smaller size of group D simply because we gave the opportunity to more disadvantaged agents The value function is strictly decreasing in Therefore this new next state has a higher value compared to the previous one The fact that we can improve the value contradicts the optimality of Therefore cannot hold The following Proposition establishes that beyond the optimal policy uses strict armative action The proofs establishing the proposition can be found in Appendix C P S A A Consider a state and let V denote the derivative of the value function V evaluated at If V then for all and all Insights from the Analysis We end this section by making several observations about the optimal policy First note that the optimal policy never shrinks the size of D to a value less than For every initial state Figure shows the state one converges to when the optimal policy is simulated for steps on D In other words armative action is optimal from a utilitarian point of view as long as group D is sufficiently large Second the precise derivation of as specified in allows us to gain new insights into how the interaction between the parameters of our model can give rise to or avert armative action Figure depicts the status of persistent armative action ie for in settings where The derivation behind the plots can be found in Appendix C Notice that persistent armative action is promoted by large values of and small values of since these make it easier to include high-performing members of group D without a large difference in thresholds Persistent armative action is also promoted by larger values of indicating greater concern for the rewards in future generations Note however that a finite level of patience often suffices for persistent armative action to be optimal Finally a frequent objection to armative action polices is their potential for reverse discrimination see eg Hopwood v Texas Fd th Translating these concerns into the terminology of our model one may object that if the highest-ability member of D has ability below the lowest-ability member of A then any armative action in this scenario will violate the desert principle Note however that in our model abilities for both A and D group members are uniform in the interval So the optimal policy will never favor a lower-ability member of D to a higher ability member of A COMPUTATIONAL ANALYSIS FOR pD pA The focus of our theoretical analysis was on the settings in which pA pD Next we computationally investigate the optimal policy for cases where pA pD Recall that when pA and pD are non-zero the circumstance of an offspring is not deterministically specified by that of their parent Instead pA and pD specify the offsprings probability of spontaneous movement to the background distribution of circumstances in society that is When pA pD both the spontaneous movement dynamics and the allocation of opportunities work toward reducing the relative size of group D over time This fact allowed us to utilize backward induction to characterize the optimal policy theoretically When pA pD however the spontaneous movement work in the opposite direction of opportunity allocation with no opportunity allocated the spontaneous movement dynamics gradually shift the entire population to group D In such settings the role of the allocation policy consists of combatting the natural ow of the population to D Although in settings with pA pD it is significantly more challenging to characterize the optimal allocation policy we can still approximately compute this policy via discretization followed by solution methods for finite decision problems More specifically we discretize the state- and action-space of the decision process D then compute the optimal policy of the resulting finite decision process using methods such as policy iteration In what follows we report the result of our simulations when the state- and action-space are approximated by equidistant states and actions ie and and the reward and transition functions are approximated accordingly a b Figure a The optimal policy at every state for various pA values b The absorbing state for every initial state The optimal policy is non-monotone and exhibits sharp drops when better absorbing states become cost-effective Figure a shows how the optimal policy varies with pA for a fixed value of pD Compared to the optimal policy for settings of pA pD we observe two significant differences here The optimal policy can be non-monotone in There exists a sharp drop in the optimal threshold at some intermediate state Next we provide some justifications for both the intuitive and potentially counter-intuitive aspects of these phenomena For every initial state Figure b illustrates the state one converges to ie the absorbing state if the optimal policy is simulated for steps Note that in all cases the optimal policy successfully reduces the absorbing state to a more desirable value less than recall that with no intervention we always converge to through the spontaneous movements As illustrated in Figure b the sharp drop in the optimal threshold coincides with an abrupt change in the absorbing state When the initial state is close to the allocation policy must employ extensive armative action to reduce and maintain a better absorbing state This feat however comes at the cost of immediate reward The optimal policy therefore settles for reaching and obtaining a slightly more desirable absorbing state a value between and in Figure b For smaller initial states the cost of employing extensive armative action goes down and at some point it becomes viable to reach and maintain a much better absorbing state a value between to in Figure b The sharp drop in the optimal threshold happens precisely at the state where the benefit of extensive armative action outweighs its cost In summary when pA pD we need persistent albeit non-monotone armative action to reach and maintain more desirable absorbing states The optimal extent of armative action crucially depends on the initial state of the population If the disadvantaged group is large to begin with the optimal policy has to forgo extensive armative action to maintain sufficient short-term return If the advantaged group initially has a sufficient mass extensive armative action becomes optimal and in the long-run manages to significantly increases the fraction of advantaged individuals in the population These endings are in sharp contrast with settings of pA pD In those settings armative action is optimal under the much more straightforward condition that the disadvantaged group exceeds a fraction of the population for a constant that we can specify precisely and it ceases to be optimal as soon as society gains at least mass in the advantaged group DISCUSSION AND FUTURE DIRECTIONS In this paper we developed and analyzed a model for allocating opportunities in a society with limited intergenerational mobility These opportunities produce benefits in the present generation but they can also raise the socioeconomic status of the recipients and their descendants This creates a trade-off whether to maximize the current value achievable from the opportunities or to increase the value achievable in future generations We have shown how to resolve this trade-off by solving a continuous optimization problem over multiple generations and we have seen how optimal solutions to this problem can exhibit a form of socioeconomic affirmative action favoring individuals of low socioeconomic status over slightly higher-performing individuals of high socioeconomic status Characterizing the conditions under which this type of affirmative action occurs in the model provides insights into the interaction between the amount of opportunity available the magnitude of the gap between different socioeconomic classes and the patience of the society in evaluating the benefits achievable from future generations Insights and Implications Our work provides a purely utilitarian account of a society with no intrinsic interest in reducing inequality which nonetheless chooses to employ armative action along socioeconomic lines In that sense our work responds to concerns around armative action hurting social utility In addition our analysis present new insights on the shape and extent of effective socioeconomic armative action policies across multiple generations Our endings oer several important insights to the Fair-ML literature a If temporal dynamics are taken into account there are important cases where fairness interventions can be fully aligned with performance-maximizing goals b effective fairness interventions should often adapt to population changes over time c For a comprehensive assessment of fairness for an allocation policy/algorithm we may need to look beyond its immediate impact on its direct subjects Our work for instance characterizes optimal allocations when decisions made for individuals today impact their future generations Toward a Broader Class of Models Leading to Armative Action Our works main focus was on intergenerational dynamics and their impact on the effectiveness of socioeconomic armative action policies But we hope that our work also serves as a stepping stone toward a broader class of models characterizing conditions under which armative action comes out of optimal policy derivations In particular a generalized version of our decision process can capture race-dependent dynamics of movement between various socioeconomic levels Race-dependent dynamics are motivated by the observation that advantaged Black people are more likely to be downwardly mobile than their advantaged white counterparts Chetty et al A more general version of our decision process would consist of race-dependent s and s Analyzing the resulting dynamics can shed light on the trade-offs between race/ethnicity-based and socioeconomic armative action policies We leave this analysis as a crucial direction for future work There are a number of interesting further research directions suggested by the results in the paper and several of them address the limits of the model noted in the introduction In particular it would be interesting to consider extensions of the model in which basic parameters of the society varied over time rather than being fixed and could only be estimated with delayed feedback eg after several years the ability distributions were non-uniform the dynamics would amplify the interaction between ability and socioeconomic advantage or there were multiple opportunities being allocated concurrently It would be interesting to incorporate strategic considerations as in other work on intergenerational mobility And finally there is a natural opportunity to try integrating the models here with work on the nature of statistical discrimination and the design of interventions to alleviate it On the Scope and Limitations of Mathematical Models Our work addresses one potential role that armative action policies can have on future generations and mitigating socioeconomic inequality Our work follows a long tradition in the mathematical social sciences where a stylized model is proposed to capture certain aspects of a complex societal issue the model is then rigorously analyzed with the hope that the formal analysis provides new insights about alternative policy choices and their counterfactual effects These insights can in turn inform policymakers at a qualitative level We conclude this article by acknowledging that all mathematical models are by definition highly simplified representations of the phenomena at hand and as such it is important to understand and interpret them keeping their limitations and scope of applicability in mind We have grounded our work in a broad literature from economics so as to draw on the insights that earlier modelers have brought to this setting But we emphasize that theoretical models and their implications should never be taken as exact representations of the way complex societal processes operate and evolve As such it is important to not draw policy interpretations on the basis of such models alone